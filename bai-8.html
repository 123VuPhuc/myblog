<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Bài 8:Lập trình mạng an toàn bảo mật với SSL - Blog của tôi</title><meta name="description" content="I/ Giới thiệu SSL và một số khái niệm 1/ Giới thiệu SSL SSL (Secure Socket Layer) là giao thức đa mục đích được thiết kế để tạo ra các giao tiếp giữa hai chương trình ứng dụng trên một cổng định trước (socket 443)&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://github.com/123VuPhuc/myblog.git/bai-8.html"><link rel="alternate" type="application/atom+xml" href="https://github.com/123VuPhuc/myblog.git/feed.xml"><link rel="alternate" type="application/json" href="https://github.com/123VuPhuc/myblog.git/feed.json"><meta property="og:title" content="Bài 8:Lập trình mạng an toàn bảo mật với SSL"><meta property="og:image" content="https://github.com/123VuPhuc/myblog.git/media/website/champions-league-real-madrid-4k-8nnsf8xwhj6fu6u6.jpg"><meta property="og:image:width" content="1920"><meta property="og:image:height" content="1080"><meta property="og:site_name" content="Blog của tôi"><meta property="og:description" content="I/ Giới thiệu SSL và một số khái niệm 1/ Giới thiệu SSL SSL (Secure Socket Layer) là giao thức đa mục đích được thiết kế để tạo ra các giao tiếp giữa hai chương trình ứng dụng trên một cổng định trước (socket 443)&hellip;"><meta property="og:url" content="https://github.com/123VuPhuc/myblog.git/bai-8.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://github.com/123VuPhuc/myblog.git/assets/css/style.css?v=94220f119044674b7663d7c550454968"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://github.com/123VuPhuc/myblog.git/bai-8.html"},"headline":"Bài 8:Lập trình mạng an toàn bảo mật với SSL","datePublished":"2024-12-29T11:11+07:00","dateModified":"2024-12-29T11:23+07:00","image":{"@type":"ImageObject","url":"https://github.com/123VuPhuc/myblog.git/media/website/champions-league-real-madrid-4k-8nnsf8xwhj6fu6u6.jpg","height":1080,"width":1920},"description":"I/ Giới thiệu SSL và một số khái niệm 1/ Giới thiệu SSL SSL (Secure Socket Layer) là giao thức đa mục đích được thiết kế để tạo ra các giao tiếp giữa hai chương trình ứng dụng trên một cổng định trước (socket 443)&hellip;","author":{"@type":"Person","name":"Vũ Trần Hoàng Phúc","url":"https://github.com/123VuPhuc/myblog.git/authors/vu-tran-hoang-phuc/"},"publisher":{"@type":"Organization","name":"Vũ Trần Hoàng Phúc","logo":{"@type":"ImageObject","url":"https://github.com/123VuPhuc/myblog.git/media/website/champions-league-real-madrid-4k-8nnsf8xwhj6fu6u6.jpg","height":1080,"width":1920}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><a href="/about-me"><label style="color: #007BFF; cursor: pointer;">Click here to read my About Me page</label></a><header class="top js-header"><a class="logo" href="https://github.com/123VuPhuc/myblog.git/"><img src="https://github.com/123VuPhuc/myblog.git/media/website/champions-league-real-madrid-4k-8nnsf8xwhj6fu6u6.jpg" alt="Blog của tôi" width="1920" height="1080"></a></header><main class="post"><article class="content"><div class="hero hero--noimage"><header class="hero__content"><div class="wrapper"><h1>Bài 8:Lập trình mạng an toàn bảo mật với SSL</h1><div class="feed__meta content__meta"><a href="https://github.com/123VuPhuc/myblog.git/authors/vu-tran-hoang-phuc/" class="feed__author">Vũ Trần Hoàng Phúc</a> <time datetime="2024-12-29T11:11" class="feed__date">December 29, 2024</time></div></div></header></div><div class="entry-wrapper content__entry"><p>I/ Giới thiệu SSL và một số khái niệm</p><p>        1/ Giới thiệu SSL</p><p>SSL (Secure Socket Layer) là giao thức đa mục đích được thiết kế để tạo ra các giao tiếp giữa hai chương trình ứng dụng trên một cổng định trước (socket 443) nhằm mã hoá toàn bộ thông tin đi/đến, được sử dụng trong giao dịch điện tử như truyền số liệu thẻ tín dụng, mật khẩu, số bí mật cá nhân (PIN) trên Internet.</p><p>Trong các giao dịch điện tử trên mạng và trong các giao dịch thanh toán trực tuyến, thông tin/dữ liệu trên môi trường mạng Internet không an toàn thường được bảo đảm bởi cơ chế bảo mật thực hiện trên tầng vận tải có tên Lớp cổng bảo mật SSL (Secure Socket Layer) - một giải pháp kỹ thuật hiện nay được sử dụng khá phổ biến trong các hệ điều hành mạng máy tính trên Internet. Giao thức SSL được hình thành và phát triển đầu tiên nǎm 1994 bởi nhóm nghiên cứu Netscape dẫn dắt bởi Elgammal, và ngày nay đã trở thành chuẩn bảo mật thực hành trên mạng Internet. Phiên bản SSL hiện nay là 3.0 và vẫn đang tiếp tục được bổ sung và hoàn thiện. Tương tự như SSL, một giao thức khác có tên là Công nghệ truyền thông riêng tư PCT (Private Communication Technology) được đề xướng bởi Microsoft, hiện nay cũng được sử dụng rộng rãi trong các mạng máy tính chạy trên hệ điều hành Windows NT. Ngoài ra, một chuẩn của Nhóm đặc trách kỹ thuật Internet IETF (Internet Engineering Task Force) có tên là Bảo mật lớp giao vận TLS (Transport Layer Security) dựa trên SSL cũng được hình thành và xuất bản dưới khuôn khổ nghiên cứu của IETF Internet Draft được tích hợp và hỗ trợ trong sản phẩm của Netscape.</p><p> 2/ Khoá-Key</p><p>Định nghĩa Khoá</p><p style="margin-right: 44.05pt; text-align: justify; line-height: 130%;"><span lang="vi">Khóa (key) là một thông tin quan trọng dùng để mã hóa thông tin hoặc giải mã thông<span style="letter-spacing: -.3pt;"> </span>tin<span style="letter-spacing: -.3pt;"> </span>đã bị<span style="letter-spacing: -.1pt;"> </span>mã hóa. Có<span style="letter-spacing: -.1pt;"> </span>thể hiểu<span style="letter-spacing: -.05pt;"> </span>nôm<span style="letter-spacing: -.35pt;"> </span>na khóa giống<span style="letter-spacing: -.05pt;"> </span>như là mật<span style="letter-spacing: -.1pt;"> </span></span><span lang="vi">khẩu(password</span><strong><span lang="vi">).</span></strong></p><p><em>Độ dài khóa – Key Length</em></p><p>Độ dài khóa được tính theo bit: 128 bits, 1024 bits hay 2048 bits,... Khóa càng dài thì càng khó phá. Chằng hạn như khóa RSA 1024 bits đồng nghĩa với việc chọn 1 trong 2<sup>1024</sup> khả năng.</p><p><em>Password và PassParse</em></p><p>Password và passparse gần giống nhau. Password không bao giờ hết hạn(expire). Passparse chỉ có hiệu lực trong một khoảng thời gian nhất định có thể là 5 năm, 10 năm hay chỉ là vài ba ngày. Sau thời gian đó, phải thay đổi lại mật khẩu mới. Nói chung, mọi thứ trong SSL như passparse, khóa, giấy chứng nhận, chữ kí số (sẽ nói sau), ... đều chỉ có thời hạn sử dụng nhất định. Passparse được dùng để mở (mã hóa/giải mã) khóa riêng.</p><p>   3/ Thuật toán mã hoá</p><p>Mã hóa (encrypt) và giải mã (decrypt) thông tin dùng các hàm toán học đặt biệt. Được biết đến với cái tên là thuật toán mã hóa (cryptographic algorithm) và thường được gọi tắt là cipher. Các thuật toán mã hoá và xác thực của SSL được sử dụng bao gồm (phiên bản 3.0):</p><ul><li>DES - Chuẩn mã hoá dữ liệu (ra đời năm 1977), phát minh và sử dụng của chính phủ Mỹ.</li><li>DSA - Thuật toán chữ ký điện tử, chuẩn xác thực điện tử, phát</li></ul><p>minh và sử dụng của chính phủ Mỹ.</p><ul><li>KEA - Thuật toán trao đổi khoá, phát minh và sử dụng của chính</li></ul><p>phủ Mỹ.</p><ul><li>MD5 - Thuật toán tạo giá trị "bǎm" (message digest), phát minh</li></ul><p>bởi Rivest.</p><ul><li>RC2, RC4 - Mã hoá Rivest, phát triển bởi công ty RSA Data</li><li>RSA - Thuật toán khoá công khai, cho mã hoá và xác thực, phát</li></ul><p>triển bởi Rivest, Shamir và Adleman.</p><ul><li>RSA key exchange - Thuật toán trao đổi khoá cho SSL dựa trên thuật toán RSA.</li></ul><ul><li>SHA-1 - Thuật toán hàm băm an toàn, phát triển và sử dụng bởi</li></ul><p>chính phủ Mỹ.</p><ul><li>SKIPJACK - Thuật toán khoá đối xứng phân loại được thực hiện</li></ul><p>trong phần cứng Fortezza, sử dụng bởi chính phủ Mỹ;</p><ul><li>Triple-DES - Mã hoá DES ba lần.</li></ul><p><strong>Các phương pháp mã hóa</strong></p><p><strong> </strong></p><p>Có hai phương pháp mã hóa được sử dụng phổ biến hiện nay là mã hóa bằng khóa đối xứng và mã hóa dùng cặp khóa chung - khóa riêng..</p><p><em>Mã hóa bằng khóa đối xứng (symmetric-key)</em></p><figure class="post__image"><img loading="lazy" src="file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/Picture1.png" alt="" width="460" height="333" sizes="(max-width: 1920px) 100vw, 1920px" srcset="file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture1-xs.png 640w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture1-sm.png 768w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture1-md.png 1024w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture1-lg.png 1366w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture1-xl.png 1600w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture1-2xl.png 1920w"></figure><p>         Khóa dùng để mã hóa cũng là khóa dùng để giải mã.Một khe hở trong mã hóa đối xứng là bạn phải chuyển khóa cho người nhận để họ có thể giải mã. Việc chuyển khóa không được mã hóa qua mạng là một điều cực kì mạo hiểm. Nhỡ như khóa này rơi vào tay người khác thế là họ có thể giải mã được thông tin mà đã chuyển đi. Phương pháp mã hóa bằng khóa chung - khóa riêng ra đời nhằm giải quyết vấn đề này.</p><p>          Thay vì chỉ có một khóa duy nhất dùng chung cho mã hóa và giải mã, sẽ có một cặp khóa gồm khóa chung chỉ dùng để mã hóa và khóa riêng chỉ dùng để giải mã.</p><p>      Khi người A muốn gửi thông điệp cho người B thì người B cần biết khóa chung của người A. (Khóa này được người A công bố công khai). Người B mã hóa các thông tin gởi đến người A bằng khóa chung của người A. Chỉ có người A mới có khóa riêng để giải mã các thông tin này. Nhỡ như thông tin này có rơi vào tay người khác thì họ cũng không thể giải mã được vì chỉ có người A mới có khóa riêng dành cho việc giải mã đúng thông điệp trên.</p><p><em>Mã</em><em> </em><em>hóa</em><em> </em><em>dùng</em><em> </em><em>c</em><em>p</em><em> </em><em>khóa</em><em> </em><em>chung</em><em> </em><em>–</em><em> </em><em>khóa</em><em> </em><em>riêng</em></p><figure class="post__image"><img loading="lazy" src="file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/Picture11.jpg" alt="" width="564" height="261" sizes="(max-width: 1920px) 100vw, 1920px" srcset="file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-xs.jpg 640w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-sm.jpg 768w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-md.jpg 1024w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-lg.jpg 1366w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-xl.jpg 1600w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-2xl.jpg 1920w"></figure><p style="text-align: center; margin: 0cm 35.95pt .0001pt 28.15pt;" align="center"><span lang="vi">Hình<span style="letter-spacing: -.35pt;"> </span>7.2. Mã hoá<span style="letter-spacing: -.05pt;"> </span>công<span style="letter-spacing: -.35pt;"> </span><span style="letter-spacing: -.2pt;">khai</span></span></p><p class="align-left" align="center">4 Cơ chế làm việc của SSL - SSL Protocol</p><p>Điểm cơ bản của SSL là được thiết kế độc lập với tầng ứng dụng để đảm bảo tính bí mật, an toàn và chống giả mạo luồng thông tin qua Internet giữa hai ứng dụng bất kỳ, thí dụ như webserver và các trình duyệt (browser), do đó được sử dụng rộng rãi trong nhiều ứng dụng khác nhau trên môi trường Internet. Toàn bộ cơ chế hoạt động và hệ thống thuật toán mã hoá sử dụng trong SSL được phổ biến công khai, trừ khóa chia sẻ tạm thời được sinh ra tại thời điểm trao đổi giữa hai ứng dụng là tạo ngẫu nhiên và bí mật đối với người quan sát trên mạng máy tính. Ngoài ra, giao thức SSL còn đòi hỏi ứng dụng chủ phải được chứng thực bởi một đối tượng lớp thứ ba (CA) thông qua chứng chỉ điện tử (digital certificate) dựa trên mật mã công khai (thí dụ RSA).</p><p>Sau đây ta xem xét một cách khái quát cơ chế hoạt động của SSL để phân tích cấp độ an toàn của nó và các khả nǎng áp dụng trong các ứng dụng nhạy cảm, đặc biệt là các ứng dụng về thương mại và thanh toán điện tử.</p><p>Giao thức SSL dựa trên hai nhóm con giao thức là giao thức "bắt tay" (handshake protocol) và giao thức "bản ghi" (record protocol). Giao thức bắt tay xác định các tham số giao dịch giữa hai đối tượng có nhu cầu trao đổi thông tin hoặc dữ liệu, còn giao thức bản ghi xác định khuôn dạng cho tiến hành mã hoá và truyền tin hai chiều giữa hai đối tượng đó. Khi hai ứng dụng máy tính, thí dụ giữa một trình duyệt web và máy chủ web, làm việc với nhau, máy chủ và máy khách sẽ trao đổi "lời chào" (hello) dưới dạng các thông điệp cho nhau với xuất phát đầu tiên chủ động từ máy chủ, đồng thời xác định các chuẩn về thuật toán mã hoá và nén số liệu có thể được áp dụng giữa hai ứng dụng. Ngoài ra, các ứng dụng còn trao đổi "số nhận dạng/khoá theo phiên" (session ID, session key) duy nhất cho lần làm việc đó. Sau đó ứng dụng khách (trình duyệt) yêu cầu có chứng chỉ điện tử (digital certificate) xác thực của ứng dụng chủ (web server).</p><p>Chứng chỉ điện tử thường được xác nhận rộng rãi bởi một cơ quan trung gian (Thẩm quyền xác nhận CA - Certificate Authority) như RSA Data Sercurity hay VeriSign Inc., một dạng tổ chức độc lập, trung lập và có uy tín. Các tổ chức này cung cấp dịch vụ "xác nhận" số nhận dạng của một công ty và phát hành chứng chỉ duy nhất cho công ty đó như là bằng chứng nhận dạng (identity) cho các giao dịch trên mạng, ở đây là các máy chủ webserver.</p><p>Sau khi kiểm tra chứng chỉ điện tử của máy chủ (sử dụng thuật toán mật mã công khai, như RSA tại trình máy trạm), ứng dụng máy trạm sử dụng các thông tin trong chứng chỉ điện tử để mã hoá thông điệp gửi lại máy chủ mà chỉ có máy chủ đó có thể giải mã. Trên cơ sở đó, hai ứng dụng trao đổi khoá chính (master key) - khoá bí mật hay khoá đối xứng - để làm cơ sở cho việc mã hoá luồng thông tin/dữ liệu qua lại giữa hai ứng dụng chủ khách. Toàn bộ cấp độ bảo mật và an toàn của thông tin/dữ liệu phụ thuộc vào một số tham số:</p><ul><li>Số nhận dạng theo phiên làm việc ngẫu nhiên.</li><li>Cấp độ bảo mật của các thuật toán bảo mật áp dụng cho</li><li>Độ dài của khoá chính (key length) sử dụng cho lược đồ mã hoá thông</li></ul><p>5/ Bảo mật giao thức SSL</p><p>Mức độ bảo mật của SSL như trên mô tả phụ thuộc chính vào độ dài khoá hay phụ thuộc vào việc sử dụng phiên bản mã hoá 40 bits và 128bits. Phương pháp mã hoá 40 bits được sử dụng rộng rãi không hạn chế ngoài nước Mỹ và phiên bản mã hoá 128 bits chỉ được sử dụng trong nước Mỹ và Canada. Theo luật pháp Mỹ, các mật mã "mạnh" được phân loại vào nhóm "vũ khí" (weapon) và do đó khi sử dụng ngoài Mỹ (coi như là xuất khẩu vũ khí) phải được phép của chính phủ Mỹ hay phải được cấp giấy phép của Bộ Quốc phòng Mỹ (DoD). Đây là một lợi điểm cho quá trình thực hiện các dịch vụ thương mại và thanh toán điện tử trong Mỹ và các nước đồng minh phương Tây và là điểm bất lợi cho việc sử dụng các sản phẩm cần có cơ chế bảo mật và an toàn trong giao dịch điện tử nói chung và thương mại điện tử nói riêng trong các nước khác.</p><p>Các phương thức tấn công (hay bẻ khoá) của các thuật toán bảo mật thường dùng dựa trên phương pháp "tấn công vét cạn" (brute-force attack) bằng cách thử-sai miền không gian các giá trị có thể của khoá. Số phép thử-sai tǎng lên khi độ dài khoá tăng và dẫn đến vượt quá khả nǎng và công suất tính toán, kể cả các siêu máy tính hiện đại nhất. Thí dụ, với độ dài khoá là 40 bits, thì số phép thử sẽ là 2<sup>40</sup>=1,099,511,627,776 tổ hợp. Tuy nhiên độ dài khoá lớn kéo theo tốc độ tính toán giảm (theo luỹ thừa nghịch đảo) và dẫn đến khó có khả nǎng áp dụng trong thực tiễn. Một khi khoá bị phá, toàn bộ thông tin giao dịch trên mạng sẽ bị kiểm soát toàn bộ. Tuy nhiên do độ dài khoá lớn (thí dụ 128 bits, 256 bits), số phép thử-sai trở nên "không thể thực hiện" vì phải mất hàng năm hoặc thậm chí hàng nghìn nǎm với công suất và nǎng lực tính toán của máy tính mạnh nhất hiện nay.</p><p>Ngay từ năm 1995, bản mã hoá 40 bits đã bị phá bởi sử dụng thuật toán vét cạn. Ngoài ra, một số thuật toán bảo mật (như DES 56 bits, RC4, MD4,...) hiện nay cũng bị coi là không an toàn khi áp dụng một số phương pháp và thuật toán tấn công đặc biệt. Đã có một số đề nghị thay đổi trong luật pháp Mỹ nhằm cho phép sử dụng rộng rãi các phần mềm mã hoá sử dụng mã hoá 56 bits song hiện nay vẫn chưa được chấp thuận.</p><p>II. Lập trình mạng an toàn bảo mật SSL</p><h6>1.   Thư viện java hỗ trợ lập trình SSL</h6><figure class="post__image"><img loading="lazy" src="file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/Picture11-2.jpg" alt="" width="624" height="284" sizes="(max-width: 1920px) 100vw, 1920px" srcset="file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-2-xs.jpg 640w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-2-sm.jpg 768w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-2-md.jpg 1024w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-2-lg.jpg 1366w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-2-xl.jpg 1600w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-2-2xl.jpg 1920w"></figure><p class="align-center">Hình 7.3. Kiến trúc JDK</p><p>Java™ security bao gồm tập hợp rất nhiều APIs, công cụ, và cài đặt của các thuật toán bảo mật thông dụng (commonly-used security algorithms), các cơ chế (mechanisms) và các giao thức (protocols). Java security APIs được sử dụng rộng rãi. Bao gồm mã hóa (cryptography), hạ tầng khóa chung (public key infrastructure), trao đổi bảo mật (secure communication), xác thực (authentication), và điều khiển truy cập (access control). Bao gồm rất nhiều lớp thư viện như Java Authentication and Authorization Service (JAAS), Java Cryptography Extension (JCE), Java Secure Socket Extension (JSSE)… Tuy nhiên trong báo cáo này chỉ tập trung vào JSSE. Và cụ thể hơn là JSSE hỗ trợ SSL. Các gói thư viện hỗ trợ lập trình với SSL:</p><ul><li>Gói net.ssl (JSSE)</li><li>Gói rmi.ssl (SSL/TLS-based RMI Socket Factories)</li></ul><p>    1.1 Lớp SSL</p><p>       Để truyền thông an toàn, cả 2 phía của kết nối đều phải sử dụng SSL. Trong java, các lớp điểm cuối của kết nối là SSLSocket và SSLEngine. Hình 7.4. cho thấy các lớp chính được sử dụng để tạo ra SSLSocket/SSLEngines.</p><figure class="post__image align-right"><img loading="lazy" src="file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/Picture11-3.jpg" alt="" width="571" height="431" sizes="(max-width: 1920px) 100vw, 1920px" srcset="file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-3-xs.jpg 640w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-3-sm.jpg 768w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-3-md.jpg 1024w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-3-lg.jpg 1366w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-3-xl.jpg 1600w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-3-2xl.jpg 1920w"></figure><p class="align-center">Hình 7.4. Các lớp java SSL</p><p>2/ Ví dụ về sử dụng lớp SSL</p><p>Chương trình ví dụ có mã lệnh cho phép server và client có thể xác thực nhau. Muốn vậy thì client phải có chứng chỉ của server ( thực tế là một tập (chain) chứng chỉ). Trường hợp ví dụ chứng chỉ của server là chứng chỉ tự ký (self-certificate). Sau đó khi chạy chương trình thì trỏ tới nó.Sau khi đánh lệnh trên thì sẽ hiện ra các thông tin để điền vào như mật khẩu, tên cá nhân, tên tổ chức, thành phố,…</p><p><em>Server source code (EchoServer.java)</em></p><p>import javax.net.ssl.SSLServerSocket;</p><p>import javax.net.ssl.SSLServerSocketFactory; import javax.net.ssl.SSLSocket;</p><p>import java.io.BufferedReader; import java.io.InputStream; import java.io.InputStreamReader; public class EchoServer {</p><p>public      static    void main(String[] arstring) { try {</p><p>SSLServerSocketFactory sslserversocketfactory = (SSLServerSocketFactory)</p><p>SSLServerSocketFactory.getDefault();</p><p>SSLServerSocket sslserversocket = (SSLServerSocket)</p><p>sslserversocketfactory.createServerSocket(9999);</p><p>SSLSocket sslsocket = (SSLSocket) sslserversocket.accept(); InputStream inputstream = sslsocket.getInputStream(); InputStreamReader inputstreamreader        =      new</p><p>InputStreamReader(inputstream);</p><p>BufferedReader       bufferedreader                    =                  new BufferedReader(inputstreamreader);</p><p>String string = null;</p><p>while ((string = bufferedreader.readLine()) != null) { System.out.println(string);</p><p>System.out.flush();</p><p>}</p><p>} catch (Exception exception) { exception.printStackTrace();</p><p>}</p><p>}</p><p>}</p><p><strong><em>Client source code (EchoClient.java)</em></strong></p><p>import javax.net.ssl.SSLSocket; import javax.net.ssl.SSLSocketFactory; import java.io.*;</p><p>public class EchoClient {</p><p>public        static    void main(String[] arstring) { try {</p><p>SSLSocketFactory       sslsocketfactory        = (SSLSocketFactory) SSLSocketFactory.getDefault();</p><p>SSLSocket              sslsocket              = (SSLSocket) sslsocketfactory.createSocket("localhost", 9999);</p><p>InputStream inputstream = System.in;</p><p>InputStreamReader      inputstreamreader                      =                    new InputStreamReader(inputstream);</p><p>BufferedReader         bufferedreader                      =                    new BufferedReader(inputstreamreader);</p><p>OutputStream outputstream = sslsocket.getOutputStream(); OutputStreamWriter outputstreamwriter          =        new</p><p>OutputStreamWriter(outputstream);</p><p>BufferedWriter         bufferedwriter                      =                    new BufferedWriter(outputstreamwriter);</p><p>String string = null;</p><p>while ((string = bufferedreader.readLine()) != null) { bufferedwriter.write(string + '\n');</p><p>bufferedwriter.flush();</p><p>}</p><p>} catch (Exception exception) { exception.printStackTrace();</p><p>}</p><p>}</p><p><em>}</em></p><p>Sau khi dịch chạy chương trình , đựoc kết quả sau:</p><figure class="post__image"><img loading="lazy" src="file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/Picture11-4.jpg" alt="" width="623" height="314" sizes="(max-width: 1920px) 100vw, 1920px" srcset="file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-4-xs.jpg 640w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-4-sm.jpg 768w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-4-md.jpg 1024w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-4-lg.jpg 1366w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-4-xl.jpg 1600w, file:///C:/Users/PHUC/Documents/Publii/sites/blog-ca-nhan/input/media/posts/10/responsive/Picture11-4-2xl.jpg 1920w"></figure><h2>Giải thích:</h2><p>-genkey: Lệnh tạo key</p><p>-keystore mySrvKeystore: Tên key là mySrvKeystore</p><p>-keyalg RSA: Thuật toán dùng để mã hóa là RSA</p><h6>Về phần ứng dụng qua giao diện dòng lệnh thì sử dụng chương trình mẫu giống như ở trên. Chạy như sau:</h6><p>Tạo chứng nhận:</p><p>keytool -genkey -keystore mySrvKeystore -keyalg RSA Mật khẩu sẽ điền là 123456</p><p>Sau khi tạo xong chứng chỉ thì copy file key vào trong thư mục chứa file</p><p>Phía server thì chứng chỉ được lưu trong keyStore</p><p>Chạy chương trình:java                               -Djavax.net.ssl.keyStore=mySrvKeystore                                      - Djavax.net.ssl.keyStorePassword=123456 EchoServer</p><p>Phía Client thì chứng chỉ được lưu trong trustStore</p><p>Chạy chương trình:java                               -Djavax.net.ssl.trustStore=mySrvKeystore                                     - Djavax.net.ssl.trustStorePassword=123456 EchoClient</p><p>III/ Kết luận</p><p style="text-align: justify; line-height: 130%; margin: 4.55pt 43.75pt .0001pt 35.95pt;"><span lang="vi">           Chương này bước đầu đề cập đến vấn đề lập trình mạng an toàn bảo mật mà chủ yếu với<span style="letter-spacing: -.15pt;"> </span>SSL, là giao thức được sử dụng rộng<span style="letter-spacing: -.1pt;"> </span>rãi nhất cho việc cài<span style="letter-spacing: -.15pt;"> </span>đặt mã hoá trong Web. Với cách tiếp cận này, sinh viên có thể tự nghiên cứu khai thác các kỹ thuật lập trình mạng an toàn bảo mật khác nhau, khai thác các hỗ trợ khác nhau của các môi trường Java, .NET...(bảo mật trong java, phương thức SOCKS, JCA, JCE...).</span></p></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on December 29, 2024</p><div class="content__actions"><div class="content__share"><button class="btn--icon content__share-button js-content__share-button"><svg width="20" height="20" aria-hidden="true"><use xlink:href="https://github.com/123VuPhuc/myblog.git/assets/svg/svg-map.svg#share"></use></svg> <span>Share It</span></button><div class="content__share-popup js-content__share-popup"></div></div></div><div class="content__bio bio"><div><h3 class="h4 bio__name"><a href="https://github.com/123VuPhuc/myblog.git/authors/vu-tran-hoang-phuc/" rel="author">Vũ Trần Hoàng Phúc</a></h3></div></div></div></footer></article><div class="content__related related"><div class="wrapper"><h2 class="h4 related__title">You should also read:</h2><article class="feed__item feed__item--centered"><div class="feed__content"><header><div class="feed__meta"><a href="https://github.com/123VuPhuc/myblog.git/authors/vu-tran-hoang-phuc/" class="feed__author">Vũ Trần Hoàng Phúc</a> <time datetime="2024-12-29T11:11" class="feed__date">December 29, 2024</time></div><h3 class="feed__title"><a href="https://github.com/123VuPhuc/myblog.git/bai-9.html">Bài 9:Lập trình ứng dụng truyền thông qua mạng điện thoại công cộng( PTSN)</a></h3></header><p>KỸ THUẬT LẬP TRÌNH VỚI JTAPI 1. Giới thiệu thư viện JTAPI JTAPI là một giao diện lập trình ứng dụng hướng đối tượng cho những ứng dụng máy tính-điện thoại trên nền Java. Tương tự như những giao diện lập trình ứng dụng cho&hellip;</p><a href="https://github.com/123VuPhuc/myblog.git/bai-9.html" class="readmore feed__readmore">Continue reading...</a></div></article><article class="feed__item feed__item--centered"><div class="feed__content"><header><div class="feed__meta"><a href="https://github.com/123VuPhuc/myblog.git/authors/vu-tran-hoang-phuc/" class="feed__author">Vũ Trần Hoàng Phúc</a> <time datetime="2024-12-29T11:11" class="feed__date">December 29, 2024</time></div><h3 class="feed__title"><a href="https://github.com/123VuPhuc/myblog.git/bai-7.html">Bài 7:Kỹ thuật lập trình phân tán RMI</a></h3></header><p>7.1/ Khái niệm chung Lập trình đối tượng phân tán là một vấn đề hấp dẫn của công nghệ phân tán phần mềm ngày này. Java là ngôn ngữ đi tiên phong với RMI (Remote Method Invocation), một kỹ thuật cài đặt các đối tượng&hellip;</p><a href="https://github.com/123VuPhuc/myblog.git/bai-7.html" class="readmore feed__readmore">Continue reading...</a></div></article><article class="feed__item feed__item--centered"><div class="feed__content"><header><div class="feed__meta"><a href="https://github.com/123VuPhuc/myblog.git/authors/vu-tran-hoang-phuc/" class="feed__author">Vũ Trần Hoàng Phúc</a> <time datetime="2024-12-29T11:11" class="feed__date">December 29, 2024</time></div><h3 class="feed__title"><a href="https://github.com/123VuPhuc/myblog.git/bai-6.html">Bài 6:Lập trình giao thức UDP</a></h3></header><p>6.1/ Khái niệm chung UDP là viết tắt của cụm từ User Datagram Protocol. UDP là một phần của bộ giao thức Internet được sử dụng bởi các chương trình chạy trên các máy tính khác nhau trên mạng. Không giống như TCP, UDP được&hellip;</p><a href="https://github.com/123VuPhuc/myblog.git/bai-6.html" class="readmore feed__readmore">Continue reading...</a></div></article></div></div></main><footer class="footer footer--glued"><div class="wrapper"><div class="footer__copyright"><p>Powered by Publii</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://github.com/123VuPhuc/myblog.git/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://github.com/123VuPhuc/myblog.git/assets/js/scripts.min.js?v=700105c316933a8202041b6415abb233"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>